<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="ie=edge" http-equiv="X-UA-Compatible">
	<meta content="Sistem Manajemen Skripsi" name="description">
	<meta content="ITATS" name="author">
	<meta content="bootstrap, bootstrap 5, bootstrap5, admin, dashboard, template, responsive, css, sass, html, laravel, theme, front-end, ui kit, web" name="keywords">

	<title>Data Mahasiswa</title>

	<!-- Fonts -->
	<link href="https://fonts.googleapis.com" rel="preconnect">
	<link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
	<!-- End fonts -->

	<link href="../asset//favicon.ico" rel="shortcut icon">

	<!-- plugin css -->
	<link href="../asset/assets/fonts/feather-font/css/iconfont.css" rel="stylesheet" />
	<link href="../asset/assets/plugins/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" />
	<!-- end plugin css -->
	<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

	<!-- common css -->
	<link href="../asset/css/app.css" rel="stylesheet" />
	<!-- end common css -->

	<style>
		.text-center {
			text-align: center !important;
		}

		.tx-16 {
			font-size: 16px;
		}

		.fw-bold {
			font-weight: 500 !important;
		}
	</style>

    <!-- preloader css -->
    <link href="../asset/assets2/css/preloader.min.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap Css -->
    <link href="../asset/assets2/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <link href="../asset/assets2/css/icons.min.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap">


	
</head>

<body class="sidebar-dark" data-base-url="{{ url('/">

	<script src="../asset/assets/js/spinner.js"></script>

	<div class="main-wrapper" id="app">
         <nav class="sidebar">
            <!-- Sidebar header / logo -->
            <div class="sidebar-header">
                <a href="dashboard.html" class="sidebar-brand">
                    SM<span> SKRIPSI</span>
                </a>
                <div class="sidebar-toggler not-active">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
            <!-- Akhir sidebar header / logo -->
            <!-- sidebar list -->
            <div class="sidebar-body">
                <ul class="nav">
                    <li class="nav-item">
                        <a href="dashboard.html" class="nav-link">
                          <i class="link-icon" data-feather="box"></i>
                          <span class="link-title">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item nav-category">Data</li>
                    <li class="nav-item">
                        <a href="data_mahasiswa.html" class="nav-link">
                          <i class="link-icon" data-feather="sidebar"></i>
                          <span class="link-title">Mahasiswa</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="data_dosen.html" class="nav-link">
                          <i class="link-icon" data-feather="sidebar"></i>
                          <span class="link-title">Dosen</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="data_bidang_ilmu.html" class="nav-link">
                          <i class="link-icon" data-feather="sidebar"></i>
                          <span class="link-title">Bidang Ilmu</span>
                        </a>
                    </li>
                    <li class="nav-item nav-category">Jadwal</li>
                    <li class="nav-item">
                        <a href="data_jadwal.html" class="nav-link">
                          <i class="link-icon" data-feather="book"></i>
                          <span class="link-title">Daftar Jadwal</span>
                        </a>
                    </li>
                </ul>
            </div>
             <!-- sidebar list -->
        </nav>
		<div class="page-wrapper">
        <nav class="navbar">
                <a class="sidebar-toggler" href="#">
                    <i data-feather="menu"></i>
                </a>
                <div class="navbar-content">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown notifications">
                            <a aria-expanded="false" aria-haspopup="true" class="notifications nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="notificationDropdown" role="button">
                                <i data-feather="bell"></i>
                                <div class="indicator">
                                    <div class="circle"></div>
                                </div>
                            </a>
                            <div aria-labelledby="notificationDropdown" class="dropdown-menu p-0">
                                <div class="d-flex align-items-center justify-content-between border-bottom px-3 py-2">
                                    <p>New Notifications</p>
                                </div>
                                <div class="d-flex align-items-center justify-content-center border-top px-3 py-2">
                                    <a href="javascript:;">View all</a>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="profile.html" id="profileDropdown" role="button">
                                <img alt="profile" class="wd-30 ht-30 rounded-circle" src="../asset/img/women_profile.svg">
                            </a>
                            <div aria-labelledby="profileDropdown" class="dropdown-menu p-0">
                                <div class="d-flex flex-column align-items-center border-bottom px-5 py-3">
                                    <div class="mb-3">
                                    <img alt="profile" class="wd-80 ht-80 rounded-circle" src="../asset/img/women_profile.svg">
                                    </div>
                                    <div class="text-center">
                                        <p class="tx-16 fw-bolder">Ketua Jurusan</p>
                                        <p class="tx-12 text-muted">
                                            Ketua Jurusan
                                        </p>
                                    </div>
                                </div>
                                <ul class="list-unstyled p-1">
                                    <li class="dropdown-item py-2">
                                        <a href="login.html">
                                            <i class="icon-md me-2" data-feather="log-out"></i>
                                            <span>Log Out</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
			<div class="page-content">
                
                <link href="../asset/assets2/libs/datatables.net-bs4/datatables.net-bs4.min.css" rel="stylesheet" type="text/css" />
                <link href="../asset/assets2/libs/datatables.net-buttons-bs4/datatables.net-buttons-bs4.min.css" rel="stylesheet" type="text/css" />
                <link href="../asset/assets2/libs/datatables.net-responsive-bs4/datatables.net-responsive-bs4.min.css" rel="stylesheet" type="text/css" />

                <nav class="page-breadcrumb">
                    <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">Data</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Mahasiswa</li>
                    </ol>
                </nav>
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title" style="font-weight: bold">Data Mahasiswa</h4>
                                <p class="card-title-desc">Data mahasiswa dapat dilihat pada tabel dibawah ini, terdapat filter mengenai angkatan mahasiswa dan tombol detailnya.</p>
                            </div>
                            <div class="card-body table-responsive">
                                <div class="row mb-3">
                                    <div class="col-md-2">
                                        <label for="tahunFilter">Filter Angkatan:</label>
                                        <select id="tahunFilter" class="form-control">
                                            <option value="">Semua</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                        </select>
                                    </div>
                                </div>
                                <table id="datatable" class="table table-bordered dt-responsive  nowrap w-100">
                                    <thead>
                                    <tr>
                                        <th>No</th>
                                        <th>NPM</th>
                                        <th>Nama</th>
                                        <th>Dosen Pembimbing</th>
                                        <th>Progress</th>
                                        <th>Action</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>1</td>
                                            <td>{{ $data->kode_unik }}</td>
                                            <td>{{ $data->name }}</td>
                                            <td>{{ $data->dosen_pembimbing_utama ?? 'Tidak Ada' }}</td>
                                            <td><span class="mt-2"><strong>Revisi Sidang Proposal</strong></span></td>
                                            <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#detailModal{{ $data->id }}">Detail</button></td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td>{{ $data->kode_unik }}</td>
                                            <td>{{ $data->name }}</td>
                                            <td>{{ $data->dosen_pembimbing_utama ?? 'Tidak Ada' }}</td>
                                            <td><span class="mt-2"><strong>Revisi Sidang Proposal</strong></span></td>
                                            <td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#detailModal{{ $data->id }}">Detail</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal -->
                <div class="modal fade" id="detailModal{{ $data->id }}" tabindex="-1" role="dialog" aria-labelledby="detailModalLabel{{ $data->id }}" aria-hidden="true">
                    <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="detailModalLabel{{ $data->id }}">Detail Mahasiswa - {{ $data->name }}</h5>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="mb-3">
                                        <div class="table-responsive">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">NPM </label>
                                                        <p><span>{{ $data->kode_unik }}</span></p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Nama </label>
                                                        <p><span>{{ $data->name }}</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Judul </label>
                                                        <p><span>{{ $data->judul ?? 'Belum Mengajukan'}}</span></p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Bidang Ilmu</label>
                                                        <p><span>{{ $data->topik_bidang_ilmu ?? 'Belum Mengajukan' }}</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Dosen Pembimbing Utama </label>
                                                        <p><span>{{ $data->dosen_pembimbing_utama ?? 'Belum Mengajukan' }}</span></p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Dosen Pembimbing Pendamping </label>
                                                        <p><span>{{$data->dosen_pembimbing_ii ?? 'Belum Mengajukan'}}</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Alamat </label>
                                                        <p><span>{{ $data->alamat_orang_tua ?? 'Tidak Ada' }}</span></p>
                                                    </div>
                                                </div>
                                                <div class="col-sm-6">
                                                    <div class="mb-3">
                                                        <label class="form-label" style="font-weight: bold">Nomor Telepon Orang Tua </label>
                                                        <p><span>{{$data->no_telp_orang_tua ?? 'Tidak Ada'}}</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- ini akhir isi content -->
            <!-- ini footer -->
            <footer class="footer d-flex flex-column flex-md-row align-items-center justify-content-between px-4 py-3 border-top small">
                <p class="text-muted mb-1 mb-md-0">Copyright © <script>document.write(new Date().getFullYear())</script> Sistem Informasi.</p>
            </footer>
		</div>
	</div>

	 <!-- Base JS -->
     <script src="../asset/js/app.js"></script>
     <script src="../asset/assets/plugins/feather-icons/feather.min.js"></script>
     <script src="../asset/assets/plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
     <!-- End Base JS -->

        <!-- jQuery -->
        <script
        src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>

    <!-- Bootstrap JS -->
    <script
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>

    <script src="../asset/assets/plugins/flatpickr/flatpickr.min.js"></script>
    <script src="../asset/assets/plugins/apexcharts/apexcharts.min.js"></script>
    <script>
        $(document).ready(function () {
            // Inisialisasi modal secara manual untuk setiap ID modal
           
                $('#detailModal{{ $data->id }}').modal({
                    show: false,
                    backdrop: 'static',
                    keyboard: false
                });
          
        });
    </script>

 
     <!-- Common JS -->
     <script src="../asset/assets/js/template.js"></script>
     <!-- End Common JS -->
     <script src="../asset/assets/js/dashboard.js"></script>


     
    <script src="../asset/assets2/libs/datatables.net/datatables.net.min.js"></script>
    <script src="../asset/assets2/libs/datatables.net-bs4/datatables.net-bs4.min.js"></script>
    <script src="../asset/assets2/libs/datatables.net-buttons/datatables.net-buttons.min.js"></script>
    <script src="../asset/assets2/libs/datatables.net-buttons-bs4/datatables.net-buttons-bs4.min.js"></script>
    <script src="../asset/assets2/libs/jszip/jszip.min.js"></script>
    <script src="../asset/assets2/libs/pdfmake/pdfmake.min.js"></script>
    <script src="../asset/assets2/libs/datatables.net-responsive/datatables.net-responsive.min.js"></script>
    <script src="../asset/assets2/libs/datatables.net-responsive-bs4/datatables.net-responsive-bs4.min.js"></script>
    <script src="../asset/assets2/js/pages/datatables.init.js"></script>
    <script src="../asset/assets2/js/app.min.js"></script>
    <script>

        $(document).ready(function() {
            // Periksa apakah DataTable sudah diinisialisasi sebelumnya
            if ($.fn.DataTable.isDataTable('#datatable')) {
                // Hancurkan DataTable sebelum menginisialisasi ulang
                $('#datatable').DataTable().destroy();
            }

            // Inisialisasi DataTable
            var table = $('#datatable').DataTable({
                // ... (pengaturan DataTable lainnya) ...
            });

            // Handle perubahan filter status
            $('#statusFilter').change(function() {
                var status = $(this).val();
                table.column(5).search(status).draw(); // Sesuaikan dengan indeks kolom yang benar
            });

            $('#tahunFilter').change(function() {
                var tahun = $(this).val();
                table.column(1).search(tahun).draw(); // Sesuaikan dengan indeks kolom yang berisi NPM
            });
        });
    </script>

</body>

</html>

